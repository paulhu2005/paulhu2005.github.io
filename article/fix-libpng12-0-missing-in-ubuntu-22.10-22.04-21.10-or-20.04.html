<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="ie=edge" />
<link rel="stylesheet" href="/_assets/main.css" />

    <title>Fix libpng12-0 Missing In Ubuntu 22.10, 22.04, 21.10 Or 20.04 - Ccreat Tech Base</title>
  <link rel="stylesheet" href="/_markdown_plugin_assets/highlight.js/atom-one-light.css" /></head>
  <body>
    <div class="main">
      <nav class="navigation">
        <a href="/">Ccreat Tech Base</a>
      </nav>
      <article>
        <header>
          <h1 class="article-title">Fix libpng12-0 Missing In Ubuntu 22.10, 22.04, 21.10 Or 20.04</h1>
          <div class="article-info">
            <div>
              <span
                >Created At：<time datetime="1702040033778"
                  >2023-12-08 15:53</time
                ></span
              >
              <span
                >Updated At：<time datetime="1702040033778"
                  >2023-12-08 15:53</time
                ></span
              >
            </div>
            
          </div>
        </header>
        <div class="article-content markdown-body"><p><em>In this article you'll find a very easy to apply fix that allows installing and running applications that depend on <code>libpng12-0</code> in <a title="https://www.linuxuprising.com/2018/04/ubuntu-1804-screenshot-tour-see-whats.html" href="https://www.linuxuprising.com/2018/04/ubuntu-1804-screenshot-tour-see-whats.html">Ubuntu 18.04 LTS</a> (or Linux Mint 19.</em>, which is based on Ubuntu 18.04), Ubuntu 22.10, 22.04, 21.10 Or 20.04 / Linux Mint 21.* and 20.<em>. This applies to any Ubuntu or Linux Mint flavor: Kubuntu, Xubuntu, Ubuntu MATE, Ubuntu Budgie, Linux Mint Xfce, Linux Mint Cinnamon, etc., as well as Pop!_OS or elementary OS.</em></p>
<h2 id="the-problem">The problem</h2>
<p><strong><code>libpng12</code> is no longer available in the Ubuntu repository archives and as a result, some applications that were not built with the newer libpng (<code>libpng16</code>) library fail to install.</strong> This issue is not new, since Ubuntu dropped <code>libpng12</code> with version 16.10, but those whom are <a title="https://www.linuxuprising.com/2018/04/how-to-upgrade-to-ubuntu-1804-lts.html" href="https://www.linuxuprising.com/2018/04/how-to-upgrade-to-ubuntu-1804-lts.html">upgrading from Ubuntu 16.04 to 18.04 LTS</a> , as well as Linux Mint 19.* users, might not be aware of this and how to fix it.</p>
<p>Here is an example. Ubuntu Software simply fails to install WPS Office, without displaying any error message, so I opened the WPS Office deb with <code>gdebi-gtk</code>, which doesn't allow the deb to install, displaying this message: "<em><strong>Error: Dependency is not satisfiable: libpng12-0</strong></em>":</p>
<p><a title="https://1.bp.blogspot.com/-mWY6xdpIe0g/WvQdc4nzwJI/AAAAAAAAAd4/_k1ETzCDd_E8pTFczcdWAZq6_nyFkDojgCLcBGAs/s1600/libpng12-0_error_ubuntu1804.png" href="https://1.bp.blogspot.com/-mWY6xdpIe0g/WvQdc4nzwJI/AAAAAAAAAd4/_k1ETzCDd_E8pTFczcdWAZq6_nyFkDojgCLcBGAs/s1600/libpng12-0_error_ubuntu1804.png"><img src=":/cab32baff5c54f8fb2562204c1246e59" alt="libpng12-0 error Ubuntu" title="libpng12-0 error Ubuntu" /></a></p>
<p><a id="more" class="jop-noMdConv"></a></p>
<p>Trying to install the same deb from a terminal results in the following libpng12-0 error:</p>
<div><pre class="hljs"><code>logix@logix-laptop:~$ sudo dpkg -i wps-office_10.<span class="hljs-number">1.0</span>.<span class="hljs-number">5707_</span>a21_amd64.deb 
[sudo] password <span class="hljs-keyword">for</span> logix: 
Selecting previously unselected <span class="hljs-keyword">package</span> wps-office.
(Reading database ... <span class="hljs-number">354579</span> files <span class="hljs-keyword">and</span> directories currently installed.)
Preparing <span class="hljs-keyword">to</span> unpack wps-office_10.<span class="hljs-number">1.0</span>.<span class="hljs-number">5707_</span>a21_amd64.deb ...
Unpacking wps-office (<span class="hljs-number">10.1</span>.<span class="hljs-number">0.5707</span>~a21) ...
dpkg: dependency problems prevent <span class="hljs-keyword">configuration</span> <span class="hljs-keyword">of</span> wps-office:
 wps-office depends <span class="hljs-keyword">on</span> libpng12-<span class="hljs-number">0</span>; however:
  <span class="hljs-keyword">Package</span> libpng12-<span class="hljs-number">0</span> <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> installed.

dpkg: <span class="hljs-literal">error</span> processing <span class="hljs-keyword">package</span> wps-office (<span class="hljs-comment">--install):</span>
 dependency problems - leaving unconfigured
Processing triggers <span class="hljs-keyword">for</span> gnome-menus (<span class="hljs-number">3.13</span>.<span class="hljs-number">3</span>-<span class="hljs-number">11</span>ubuntu1) ...
Processing triggers <span class="hljs-keyword">for</span> desktop-<span class="hljs-keyword">file</span>-utils (<span class="hljs-number">0.23</span>-<span class="hljs-number">1</span>ubuntu3) ...
Processing triggers <span class="hljs-keyword">for</span> mime-support (<span class="hljs-number">3.60</span>ubuntu1) ...
Processing triggers <span class="hljs-keyword">for</span> <span class="hljs-keyword">shared</span>-mime-info (<span class="hljs-number">1.9</span>-<span class="hljs-number">2</span>) ...
Processing triggers <span class="hljs-keyword">for</span> hicolor-icon-theme (<span class="hljs-number">0.17</span>-<span class="hljs-number">2</span>) ...
Errors were encountered <span class="hljs-keyword">while</span> processing:
 wps-office</code></pre></div>
<p>Note that some apps can't be installed due to missing <code>libpng12-0</code>, while others simply fail to start.</p>
<h2 id="the-fix-install-and-run-applications-that-require-libpng12-0-in-ubuntu-2210-2204-2110-or-2204-linux-mint-21-20-or-19">The fix: install and run applications that require libpng12-0 in Ubuntu 22.10, 22.04, 21.10 or 22.04 / Linux Mint 21.<em>, 20.</em> or 19.*</h2>
<p><em><em>To fix the issue on the now very old Ubuntu 18.04 / Linux Mint 19.</em> / Pop!_OS 18.04 / elementary OS 5 or 5.1, download the <code>libpng12-0</code> package for your architecture (you only need one of these, specific for your Ubuntu / Linux Mint architecture):</em>*</p>
<ul>
<li><a title="https://launchpad.net/~ubuntu-security/+archive/ubuntu/ppa/+build/15108504" href="https://launchpad.net/~ubuntu-security/+archive/ubuntu/ppa/+build/15108504">64bit deb</a></li>
<li><a title="https://launchpad.net/~ubuntu-security/+archive/ubuntu/ppa/+build/15108507" href="https://launchpad.net/~ubuntu-security/+archive/ubuntu/ppa/+build/15108507">32bit deb</a></li>
</ul>
<p><img src=":/d2366a0eafc44b549e86fe844e73f62e" alt="Ezoic" title="ezoic" /><br />
On that page, scroll down to the <code>Built files</code> section and only download the <code>libpng12-0</code> DEB package (e.g. on 64bit: <code>libpng12-0_1.2.54-1ubuntu1.1_amd64.deb</code>)!</p>
<p>Install the <code>libpng12-0</code> deb downloaded by using the link above, and you should be able to install and run applications that still depend on this library, in Ubuntu 18.04 LTS or Ubuntu 18.10 / Linux Mint 19.</p>
<p><em><em>To fix the issue on Ubuntu 22.10, 22.04, 21.10 or 20.04 / Linux Mint 21.</em> or 20.*, you can install libpng by using a PPA I created with an updated libpng12-0 package. Use these commands to add the PPA and install libpng12-0:</em>*</p>
<div><pre class="hljs"><code>sudo<span class="hljs-built_in"> add-apt-repository </span>ppa:linuxuprising/libpng12
sudo apt update
sudo apt install libpng12-0</code></pre></div>
<p><strong>Or download the libpng12-0 DEB package <a title="http://ppa.launchpad.net/linuxuprising/libpng12/ubuntu/pool/main/libp/libpng/" href="http://ppa.launchpad.net/linuxuprising/libpng12/ubuntu/pool/main/libp/libpng/">from the PPA</a></strong> and install it manually (you only need the libpng12-0 DEB package, e.g. <code>libpng12-0_1.2.54-1ubuntu1.1+1~ppa0~eoan_amd64.deb</code>).</p>
<p>The reason this package required an update for Ubuntu 22.10, 22.04, 21.10 and 20.04, is that with Ubuntu 19.04, the <code>/lib</code> directory is a symlink to <code>/usr/lib</code> (this was not the case with Ubuntu 18.04 and older), and this causes the <code>libpng12-0</code> installation to fail, since this package tries to create a link from <code>/lib/x86_64-linux-gnu/libpng12.so.0</code> to <code>/usr/lib</code>, which is already a symlink. So the DEB had to be repacked to get it to work on newer Ubuntu versions.</p>
<p>As a result, when trying to install the old <code>libpng12-0</code> package on Ubuntu (or Pop!_OS, etc.) 22.10, 22.04, 21.10 Or 20.04, you'd get this error:</p>
<div><pre class="hljs"><code><span class="hljs-attribute">dpkg</span>: error processing archive libpng12-<span class="hljs-number">0</span>_1.<span class="hljs-number">2</span>.<span class="hljs-number">54</span>-<span class="hljs-number">1</span>ubuntu1.<span class="hljs-number">1</span>_amd64.deb (--unpack):
 <span class="hljs-attribute">unable</span> to install new version of '/lib/x86_64-linux-gnu/libpng12.so.<span class="hljs-number">0</span>': No such file or directory
<span class="hljs-attribute">No</span> apport report written because the error message indicates an issue <span class="hljs-literal">on</span> the local system
<span class="hljs-attribute">Errors</span> were encountered while processing:
 <span class="hljs-attribute">libpng12</span>-<span class="hljs-number">0</span>_1.<span class="hljs-number">2</span>.<span class="hljs-number">54</span>-<span class="hljs-number">1</span>ubuntu1.<span class="hljs-number">1</span>_amd64.deb</code></pre></div>
<p><img src=":/d2366a0eafc44b549e86fe844e73f62e" alt="Ezoic" title="ezoic" /></p>
<p>This error will no longer happen with the version from the PPA.</p>
</div>
      </article>
    </div>
  </body>
</html>
